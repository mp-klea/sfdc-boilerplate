<?xml version="1.0" encoding="UTF-8"?>
<project name="sfdc-boilerplate" basedir="." xmlns:sf="antlib:com.salesforce" xmlns:ff="antlib:com.spaceheroes" default="test">

    <!-- 
    This assumes forceflow.jar is copied 
    in a folder named "lib"
    ====================================== -->
    <path id="ant.additions.classpath">
        <fileset dir="./lib/" includes="*.jar"/>
    </path>
    <taskdef resource="antlib.xml" uri="antlib:com.spaceheroes" classpathref="ant.additions.classpath" />

	<property environment="env"/>
	
	<echo message="ev_username: ${env.ev_username}"/>
	<echo message="username:    ${env.username}"/>
	<echo message="ev_passwordtoken: ${env.ev_passwordtoken}"/>
	<echo message="password:             ${env.password}"/>
	<echo message="ev_serverurl: ${env.ev_serverurl}"/>
	<echo message="eserverurl:   ${env.serverurl}"/>

	<target name="test">
		<!-- <ff:runtests 
			username="${env.username}" password="${env.password}" serverurl="${env.serverurl}" 
			testReportsDir="${env.CIRCLE_TEST_REPORTS}" /> -->
		
		<ff:runtests 
				username="${env.ev_username}" password="${env.ev_passwordtoken}" serverurl="${env.ev_serverurl}" 
				testReportsDir="${env.CIRCLE_TEST_REPORTS}" />
			
		<!-- <sf:deploy username="${env.ev_username}"
		password="${env.ev_password}${env.ev_token}"
		serverurl="${env.ev_serverurl}" maxPoll="500"
		pollWaitMillis="5000" deployRoot="src"
		testLevel="RunLocalTests" checkOnly="true" /> -->
		
	</target>

</project>
